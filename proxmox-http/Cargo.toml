[package]
name = "proxmox-http"
edition = "2018"
version = "0.6.4"
authors = [
    "Dietmar Maurer <dietmar@proxmox.com>",
    "Wolfgang Bumiller <w.bumiller@proxmox.com>",
]
license = "AGPL-3"
description = "Proxmox HTTP library"

exclude = [ "debian" ]

[dependencies]
anyhow = "1.0"
base64 = { version = "0.13", optional = true }
futures = { version = "0.3", optional = true }
http = { version = "0.2", optional = true }
hyper = { version = "0.14", default_features = false, optional = true }
openssl =  { version = "0.10", optional = true }
serde_json = { version = "1.0", optional = true }
tokio = { version = "1.0", features = [], optional = true }
tokio-openssl = { version = "0.6.1", optional = true }
url = { version = "2", optional = true }

proxmox-async = { path = "../proxmox-async", optional = true, version = "0.4.1" }
proxmox-sys = { path = "../proxmox-sys", optional = true, version = "0.4" }
proxmox-io = { path = "../proxmox-io", optional = true, version = "1.0.0" }
proxmox-lang = { path = "../proxmox-lang", optional = true, version = "1.1" }

[features]
default = []

client = [ "futures", "http-helpers", "hyper/full", "openssl", "tokio/io-util", "tokio-openssl" ]
client-trait = [ "http" ]
http-helpers = [ "base64", "http", "proxmox-sys", "serde_json", "url" ]
websocket = [
    "base64",
    "futures",
    "hyper",
    "openssl",
    "proxmox-sys",
    "proxmox-io/tokio",
    "proxmox-lang",
    "tokio/io-util",
    "tokio/sync",
]
